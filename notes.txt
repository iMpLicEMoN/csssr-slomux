https://codepen.io/daynin/pen/KXemyg
Slomux — упрощённая, сломанная реализация Flux.

Перед вами небольшое приложение, написанное на React + Slomux.

Исправьте ошибки и потенциально проблемный код, почините приложение и прокомментируйте своё решение.


Шаг 1 - попытка запуска с минимальными изменениями и анализом, состояние приложения - неисправно:

  отсутствует store (исправлено)
  State меняется mutable (исправлено)
  неверно объявленные updateText и addTodo теряющие контекст (исправлено)

ИТОГ: общее состояние - Работает исправно, багов не замечено


Шаг 2 - Выявление потенциальных ошибок и проблемных мест приложения

  архитектура
    нецелесообразность использования выделенного хранилища для минимального React приложения без роутинга.
    возможно следует использовать Redux, если приложение не будет огромным и не потребуется мутабельность.
  
  функционал и реализация
    createStore
      const listeners меняется, правим на let
      dispatch не возвращает action
      добавим параметр initialState = [] по умолчанию
      subscribe не возвращает функцию отписки - добавляем

    connect
      Component теряет свои собственные props после "коннекта" - передаем
      добавляем отписку от хранилища

    reducer
      мутабельность state - исправляем

    ToDoComponent
      отсутствуют атрибуты тэгов htmlFor и id, фокус не работает - добавляем
      отправка из input через кнопку без формы это плохой тон, нерабочий Enter и повлечет проблемы в будущем - добавляем
      возможно добавление пустых значений неверно, стоит уточнить

ИТОГ: Найденые проблемные места исправлены, необходимо дополнительное обсуждение и уточнение нюансов архитектуры и требований к приложению

Шаг 3 - проверка комментариев, отступов и общей читабельности




